% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/codificacion.R
\name{normalizar_labels_inst}
\alias{normalizar_labels_inst}
\title{Normalizar etiquetas y listas en el instrumento (survey/choices)}
\usage{
normalizar_labels_inst(inst)
}
\arguments{
\item{inst}{Lista con, idealmente, \code{$survey} y \code{$choices}. Si no existen,
intenta usar \code{$survey_raw} y \code{$choices_raw}.}

\item{df}{Data frame que proviene de \code{split$select_one}, \code{split$select_multiple} o \code{split$text}.}
}
\value{
La misma lista \code{inst}, con \code{$survey} y \code{$choices}
normalizados (columnas \code{label_es}, \code{choice_label}, \code{list_norm} presentes).

Un vector de nombres "clean" (caracter).
}
\description{
Asegura columnas estandarizadas para trabajar a gusto:
\itemize{
\item En \code{survey}: crea/rellena \code{label_es} a partir de las columnas
de label disponibles (preferencia ES > EN > label genérica > name).
También garantiza \code{list_norm} (normalización de \code{list_name}).
\item En \code{choices}: crea/rellena \code{choice_label} (preferencia ES > EN > label > name)
y garantiza \code{list_norm}.
}
}
\details{
La función tolera entradas con \code{survey}/\code{choices} limpios o
\code{survey_raw}/\code{choices_raw} (en cuyo caso limpia nombres primero).
}
\examples{
\dontrun{
inst <- leer_instrumento_xlsform("instrumento_pdm.xlsx")
inst <- normalizar_labels_inst(inst)
}
Resolver nombre limpio de parent desde split

Función auxiliar para unificar la clave de las preguntas.
Toma la columna `parent` si existe (y no está vacía); de lo contrario usa `parent_col`.
Ambos se normalizan con \code{janitor::make_clean_names()} para que coincidan con `survey$name`.

}
\keyword{internal}
