% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_xlsform.R
\name{GraficarPreguntas}
\alias{GraficarPreguntas}
\title{Waffle de preguntas y reglas (coloreado por sección + chips de reglas)}
\usage{
GraficarPreguntas(
  inst,
  titulo = "Waffle de preguntas y reglas",
  incluir_genericos = TRUE,
  n_columnas = 14,
  ancho_celda = 1.2,
  alto_celda = 1.2,
  espacio_x = 0.18,
  espacio_y = 0.18,
  tam_texto = 3.1,
  max_caracteres = 12,
  tam_chip = 0.16,
  chip_gap_x = 0.06,
  max_chips_por_fila = 4,
  mostrar_leyenda = TRUE,
  paleta_secciones = NULL
)
}
\arguments{
\item{inst}{Lista devuelta por \code{leer_xlsform_limpieza()}, con \code{inst$survey}.}

\item{titulo}{Título del gráfico.}

\item{incluir_genericos}{Si \code{TRUE}, incluye todas las filas (grupos, notas, cálculos, etc.).
Si \code{FALSE}, solo muestra preguntas habituales (select_one/multiple, text, integer, decimal, date, etc.).}

\item{n_columnas}{Número de columnas del waffle.}

\item{ancho_celda, alto_celda}{Tamaño de cada celda (unidades de datos).}

\item{espacio_x, espacio_y}{Separaciones horizontal y vertical entre celdas.}

\item{tam_texto}{Tamaño de texto del nombre dentro de la celda.}

\item{max_caracteres}{Máximo de caracteres del nombre (se corta sin “…”).}

\item{tam_chip}{Tamaño (lado) de cada chip.}

\item{chip_gap_x}{Separación horizontal entre chips.}

\item{max_chips_por_fila}{Máximo de chips por fila dentro de la celda.}

\item{mostrar_leyenda}{Si \code{TRUE}, muestra la leyenda de tipos de regla (arriba).}

\item{paleta_secciones}{Vector de colores (opcional) para colorear secciones por \code{group_name}.
Si es \code{NULL}, se usa una paleta profesional y clara distinta a la de chips.}
}
\value{
Un objeto \code{ggplot} con el waffle de preguntas y reglas.
}
\description{
Cada celda representa una fila del \code{survey}. El \strong{relleno} de la celda indica
la \strong{sección} (\code{group_name}). El \strong{borde} comunica estructura:
\itemize{
\item Negro grueso (sólido): begin/end de grupos/repeats de nivel 1
\item Negro más fino (segmentado): begin/end de grupos/repeats anidados (profundidad > 1)
\item Gris oscuro fino: el resto.
}

Dentro de cada celda se dibujan \strong{chips} para reglas detectadas:
\code{calculation}, \code{required}, \code{constraint}, \code{relevant}, \code{choice_filter}.

El texto muestra el \code{name} recortado a \code{max_caracteres} (sin “…”).
La \strong{leyenda (arriba)} es \strong{solo} para tipos de \strong{regla}.
}
