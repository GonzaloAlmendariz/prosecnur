% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/graficar_pie_dicotomico.R
\name{graficar_dico}
\alias{graficar_dico}
\title{Graficar pies dicotómicos (Sí / No) desde una tabla agregada}
\usage{
graficar_dico(
  data,
  var_indicador,
  var_porcentaje_si,
  var_n,
  escala_valor = c("proporcion_1", "proporcion_100"),
  etiqueta_si = "Sí",
  etiqueta_no = "No",
  colores_respuesta = NULL,
  invertir_respuestas = FALSE,
  mostrar_valores = TRUE,
  decimales = 1,
  umbral_etiqueta = 0.03,
  incluir_n_en_titulo = FALSE,
  prefijo_n_titulo = "N = ",
  ncol_facetas = NULL,
  titulo = NULL,
  subtitulo = NULL,
  nota_pie = NULL,
  color_titulo = "#000000",
  size_titulo = 12,
  color_subtitulo = "#000000",
  size_subtitulo = 10,
  color_nota_pie = "#000000",
  size_nota_pie = 8,
  color_leyenda = "#000000",
  size_leyenda = 8,
  color_texto_segmentos = "#FFFFFF",
  size_texto_segmentos = 3,
  color_titulos_pie = "#000000",
  size_titulos_pie = 9,
  mostrar_leyenda = TRUE,
  posicion_leyenda = "bottom",
  invertir_leyenda = FALSE,
  textos_negrita = NULL,
  exportar = c("rplot", "png", "ppt"),
  path_salida = NULL,
  ancho = 10,
  alto = 6,
  dpi = 300
)
}
\arguments{
\item{data}{Data frame en formato agregado: una fila por indicador.}

\item{var_indicador}{Nombre (string) de la columna que identifica cada
indicador (por ejemplo, \code{"indicador"}).}

\item{var_porcentaje_si}{Nombre (string) de la columna con el porcentaje
de respuesta afirmativa (Sí) para cada indicador.}

\item{var_n}{Nombre (string) de la columna con el N total por indicador.}

\item{escala_valor}{Escala de los porcentajes: \code{"proporcion_1"} si los
valores están en 0–1, o \code{"proporcion_100"} si están en 0–100.}

\item{etiqueta_si}{Etiqueta a mostrar para la categoría afirmativa
(por defecto \code{"Sí"}).}

\item{etiqueta_no}{Etiqueta a mostrar para la categoría negativa
(por defecto \code{"No"}). Se calcula como complemento de Sí.}

\item{colores_respuesta}{Vector de colores HEX con nombre para las
categorías, usando como nombres \code{etiqueta_si} y \code{etiqueta_no}.}

\item{invertir_respuestas}{Lógico; si \code{TRUE}, invierte el orden de las
categorías (por ejemplo, muestra primero "No" y luego "Sí") tanto en el
gráfico como en la leyenda.}

\item{mostrar_valores}{Lógico; si \code{TRUE}, muestra el porcentaje dentro
de cada sector de la torta.}

\item{decimales}{Número de decimales para los porcentajes.}

\item{umbral_etiqueta}{Mínima proporción (0–1) para mostrar la etiqueta
de porcentaje (por ejemplo, 0.03 equivale a 3\\%).}

\item{incluir_n_en_titulo}{Lógico; si \code{TRUE}, concatena
una línea adicional con \code{"N = ..."} al nombre del indicador en la
faceta (usando un salto de línea \code{"\\n"}).}

\item{prefijo_n_titulo}{Texto añadido antes del valor de N cuando se usa
\code{incluir_n_en_titulo} (por defecto \code{"N = "}).}

\item{ncol_facetas}{Número de columnas en el facetado. Si es \code{NULL},
se intenta un valor razonable según el número de indicadores.}

\item{titulo}{Título general del gráfico.}

\item{subtitulo}{Subtítulo opcional.}

\item{nota_pie}{Nota o fuente para el pie de página (alineado a la derecha).}

\item{color_titulo}{Color del título.}

\item{size_titulo}{Tamaño del título.}

\item{color_subtitulo}{Color del subtítulo.}

\item{size_subtitulo}{Tamaño del subtítulo.}

\item{color_nota_pie}{Color del texto del pie de página.}

\item{size_nota_pie}{Tamaño del texto del pie de página.}

\item{color_leyenda}{Color del texto de la leyenda.}

\item{size_leyenda}{Tamaño del texto de la leyenda.}

\item{color_texto_segmentos}{Color del texto de los porcentajes dentro de
los sectores.}

\item{size_texto_segmentos}{Tamaño del texto de los porcentajes.}

\item{color_titulos_pie}{Color de los títulos de cada pie (strip de facetas).}

\item{size_titulos_pie}{Tamaño de los títulos de cada pie.}

\item{mostrar_leyenda}{Lógico; si \code{FALSE}, oculta la leyenda.}

\item{posicion_leyenda}{Posición de la leyenda (por ejemplo,
\code{"bottom"}, \code{"right"}, \code{"none"}).}

\item{invertir_leyenda}{Lógico; si \code{TRUE}, invierte el orden de los
ítems en la leyenda (sin alterar el orden de las categorías en el gráfico).}

\item{textos_negrita}{Vector de caracteres que indica qué elementos deben
mostrarse en negrita. Puede incluir cualquiera de:
\code{"titulo"}, \code{"porcentajes"}, \code{"leyenda"}, \code{"titulos_pie"}.}

\item{exportar}{Método de salida: \code{"rplot"} (devuelve un objeto
\code{ggplot}), \code{"png"} (exporta un archivo PNG) o \code{"ppt"}
(exporta una diapositiva PPTX con el gráfico incrustado).}

\item{path_salida}{Ruta del archivo a crear cuando \code{exportar} no es
\code{"rplot"}.}

\item{ancho}{Ancho del gráfico (cuando se exporta a archivo).}

\item{alto}{Alto del gráfico (cuando se exporta a archivo).}

\item{dpi}{Resolución en puntos por pulgada (solo para PNG).}
}
\value{
Un objeto \code{ggplot} si \code{exportar = "rplot"}. De forma
invisible, el gráfico exportado si se utiliza \code{"png"} o \code{"ppt"}.
}
\description{
Genera gráficos de torta (pie charts) para uno o varios indicadores
dicotómicos a partir de una tabla agregada (una fila por indicador), donde
se dispone del porcentaje de respuesta afirmativa (Sí) y del N total.
Cada indicador se muestra en una faceta distinta.
}
