% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/codificacion.R
\name{construir_plantilla_desde_familias}
\alias{construir_plantilla_desde_familias}
\title{Construir plantilla (datos + metas) desde familias validadas (sin normalizar inst)}
\usage{
construir_plantilla_desde_familias(inst, dat, split)
}
\arguments{
\item{inst}{Lista con \code{survey}, \code{survey_raw}, \code{choices}, \code{choices_raw}.}

\item{dat}{Lista de \code{leer_datos()} con al menos \code{raw}.}

\item{split}{Lista con \code{select_one}, \code{select_multiple}, \code{text} (y opcional \code{integer}).
Si proviene de \code{leer_familias_clasificar()}, puede traer \code{choices_usadas}
y \code{adopciones}.}
}
\value{
lista con: \code{diccionario}, \code{choices}, \code{familias}, \code{navegacion}, \code{sheets}
}
\description{
Constructor robusto que NO normaliza \code{inst}. Lee labels en español desde
\code{inst$survey_raw} (columna \code{label::Spanish (ES)} o variantes) y, en su defecto,
desde \code{inst$survey} (p.ej. \code{label_spanish_es} o \code{label}). Soporta como \code{split}
el objeto devuelto por \code{leer_familias_clasificar()} (recomendado).

Incluye:
\itemize{
\item Orden por \code{q_order} en navegación y creación de hojas.
\item Labels correctos (survey y choices).
\item No crea hojas TEXT que ya tengan padre (excluye text adoptadas).
\item DICCIONARIO con \code{variable}, \code{etiqueta}, \code{tipo_base}, \code{list_name}.
\item CHOICES con \code{parent_col}, \code{list_name}, \code{tipo}, \code{choice_code}, \code{choice_label}.
\item INTEGER integradas como hojas con \verb{_recod} y color morado pastel.
\item En SM no se genera \code{Seleccionadas_recod}; fila 2 etiqueta bajo "Seleccionadas".
}
}
